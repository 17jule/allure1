[model]: #
[adaptor]: #
[report-generator]: #
[angular-js]: http://angularjs.org/
[bootstrap]: http://getbootstrap.com/

## How it works

Для того чтобы построить расширенный отчет тестов нужно пройти через 3 стадии:

1.	**Модель**. В ней будет содержаться вся информация, необходимая для отображения в отчете.
2.	**Адаптер**. Он должен собирать всю необходимую информацию из теста в модель. 
3.	**Генерация отчета**. По собранным данным строим отчет.

Это позволит использовать для разных языков, *разные адапторы для сбора данных* о пройденных
тестах, и получать один общий отчет. Также, можно будет использовать *разные генераторы отчета*,
и получать разные представления одних и тех же данных. 

### Модель.

Модель состоит из *двух* уровней. 

**Первый** – наиболее лаконичное представление, только те данные, которые нельзя синтезировать, 
такие как имя теста, результат выполнения, времена начала и конца теста. Именно в этом формате адаптеры сохраняют даныне
о ходе выполнения тестов. Подробнее можно посмотреть [здесь][model].

**Второй** – более удобная для отображения 
форма данных, содержащая в себе более полную информацию. Генерируется из первого уровня можели Например, будем вычислять время выполнения теста.

Сделанно это все для того, чтобы наши адапторы для разных языков программирования избавить от лишних вычислений.

Преобразование между первым уровнем модели и вторым, сделанно с помощью *xsl*-преобразования.

### Адаптер

Этот модуль разрабатывается для каждого конкретного фреймворка выполнения тестов отдельно. Его задача - собрать данные
о ходе выполнения тестов и сохранить их в формате модели. Важно, чтобы адаптер легко подключался к большому количеству 
уже написанных тестов.

По сути, адаптер должен реализовывать следующие аспекты:

* **Test suite started**
* **Test sutie finished** 
* **Test case started**
* **Test case stoped**
* **Test case failed**
* **Test case skipped**
* **Step started**
* **Step stoped**
* **Step failed**

### Построение отчета.

**Allure Report** - полноценное **single-page-application**, реализованное с помощью [AngularJS][angular-js] и [bootstrap][bootstrap].
По сути, отчет не строится. Достаточно его просто распаковать, и подложить ему папку *data* с данными.



